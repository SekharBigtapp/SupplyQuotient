



      <!-- partial -->
      <div class="content-wrapper">
        <div class=" ">
          <div class=" pb-0">
            
            <!-- first row starts here -->
           
            <div class="row">
              <div class="header-right mt-md-2 mt-lg-0 w-100">
                <div class=" align-items-center d-inline-block">
                  <a href="transaction">
                    <p class="m-0 pe-3">Transactional Reports</p>
                  </a>
                  <a class="ps-3 me-4">
                    <p class="m-0">Upcoming Item Launches</p>
                  </a>
                </div>
                <!-- <div class=""  style="display: inline-block;  float: right;">
                  <button type="button" (click)="backButtonClick()" class=" btn btn-sm btn-success btn-icon-text" style="height:30px">
                    <i class="mdi mdi-arrow-left"></i> Back</button>
                </div> -->
              </div>
            </div>

            <div class="col-lg-12 grid-margin stretch-card mt-3">
              <form [formGroup]="upcomingItemForm" (ngSubmit)="onUpcomingProduSubmit()">
              <div class="card">
                <div class="card-body">

                  <div class="mb-3">
                    <h3 class="d-inline-block"> Upcoming Item Launches </h3>
                    <!-- <button type="button" class="float-end btn btn-sm btn-primary mt-2 mt-sm-0 btn-icon-text">
                      <i class="mdi mdi-plus-circle"></i> Add Product </button> -->
                  </div>
                  <div class="clearfix"></div>
                  <div class="product-filters">
                    
                    <div class="card">
                      <div class="card-body">
                    
                        <div class="row">

                  
                      <div class="col-md-3">
                        <div class="form-group">
                          <!-- <label for="exampleFormControlSelect3">Product Name</label>
                            <select class="form-control form-control-sm" formControlName="ProductName">
                            <option *ngFor="let product of productNameList" [value]="product.prod_name">{{product.prod_name}}</option>
                            </select> -->
                            <mat-form-field>
                              <mat-label>Product Name</mat-label>
                              <input type="text" matInput [formControl]="ProductName" [(ngModel)]="productnameField" [matAutocomplete]="auto">
                              <mat-autocomplete #auto="matAutocomplete"  #mySelect (optionSelected)="onChangeProductName($event)">
                                <mat-option *ngFor="let product of productNameList | async" [value]="product.prod_name">
                                  {{product.prod_name}}
                                </mat-option>
                              </mat-autocomplete>
                            </mat-form-field>
                        </div>
                      </div>

                      <div class="col-md-3">
                      <div class="form-group">
                        <!-- <label for="exampleFormControlSelect2">Product Categories</label>
                        <select class="form-control form-control-sm" formControlName="CategoryName"
                        (change)="getSubCategorysList()">
                        <option *ngFor="let category of categoryNameList" [value]="category.prod_cat">
                          {{category.prod_cat}}</option>
                      </select> -->
                      <mat-form-field>
                        <mat-label>Product Categories</mat-label>
                        <input type="text" matInput [formControl]="CategoryName" [(ngModel)]="categoryNameField" [matAutocomplete]="auto1">
                        <mat-autocomplete #auto1="matAutocomplete" (optionSelected)="getSubCategorysList()"  #mySelect (optionSelected)="onChangeCategoryName($event)">
                          <mat-option *ngFor="let category of categoryNameList | async" [value]="category.prod_cat">
                            {{category.prod_cat}}
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <div class="form-group">
                          <!-- <label for="exampleFormControlSelect2">Sub Categories</label>
                          <select class="form-control form-control-sm" formControlName="SubcategoryName">
                            <option *ngFor="let subProduct of subCategoryNameList" [value]="subProduct.prod_subcat">
                              {{subProduct.prod_subcat}}</option>
                          </select> -->

                          <mat-form-field>
                            <mat-label>Sub Categories</mat-label>
                            <input type="text" matInput [formControl]="SubcategoryName" [(ngModel)]="subcategoryNameField" [matAutocomplete]="auto2">
                            <mat-autocomplete #auto2="matAutocomplete"  #mySelect (optionSelected)="onChangeSubCategoryName($event)">
                              <mat-option *ngFor="let subProduct of subCategoryNameList | async" [value]="subProduct.prod_subcat">
                                {{subProduct.prod_subcat}}
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>
                          </div>
                        </div>

                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="exampleFormControlSelect3"> SKU Code</label>
                          <input type="text" class="form-control form-control-sm" placeholder= "SKU Code"  aria-label="Username" formControlName="skuCode" (change)="onChangeSkuId($event)"/>
                        </div>
                      </div>

                      
                      <div class="col-md-3">
                     <label> &nbsp; </label> <br>
                      <button type="submit" class=" btn btn-sm btn-success mt-2 mt-sm-0 btn-icon-text">
                        <i class="mdi mdi-checkbox-marked-circle-outline"></i> Filter </button>
                      <button type="button" class=" btn btn-sm btn-success mt-2 mt-sm-0 btn-icon-text" style="margin-left: 15px ;" (click)="onClear()">
                        <i class="mdi mdi-checkbox-marked-circle-outline"></i> Clear </button>  
                      </div>

                      </div>

                      </div>
                    </div>

                  </div>

                 


                <div class="filter-table-data mt-3">
                  <div class="table-responsive ">
                    <table mat-table [dataSource]="upcomingItemData" *ngIf="!!upcomingItemData" matSort
                      class="mat-elevation-z8 w-100">
                      <!-- <ng-container matColumnDef="Product_Key">
                        <th mat-header-cell *matHeaderCellDef  scope="col">
                          <label mat-sort-header>
                            Product ID
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.Product_Key}} </td>
                      </ng-container> -->
                      <ng-container matColumnDef="launch_dt">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            Launch Date
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.launch_dt}} </td>
                      </ng-container>
  
                      <ng-container matColumnDef="sku_id">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            SKU Code
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.sku_id}} </td>
                      </ng-container>
  
                      <ng-container matColumnDef="prod_cat">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            Category
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element">
                          {{element.prod_cat}}
                        </td>
                      </ng-container>
  
                      <ng-container matColumnDef="prod_subcat">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            Sub Category
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.prod_subcat}}
                        </td>
                      </ng-container>
  
                      <ng-container matColumnDef="prod_name">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            Product Name
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.prod_name}} </td>
                      </ng-container>

                      <ng-container matColumnDef="most_similar_prods">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                           Similar Products
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element"> 
                          <select  class="form-control form-control-sm" id="exampleFormControlSelect1" formControlName="Store_Name" (change)="similarProduct(element,$event)">
                            <option *ngFor="let store of element.most_similar_prods" [value]="store.id">{{store.most_similar_prod}}</option>                      
                           </select>  
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="likelihood_scores">
                        <th mat-header-cell *matHeaderCellDef scope="col">
                          <label mat-sort-header>
                            Likelihood <br>  Score
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element">
                          {{element.likelihoodValue}}
                        </td>

                      </ng-container>
  
                      <ng-container matColumnDef="Actions">
                        <th mat-header-cell *matHeaderCellDef style="width: 50px;" scope="col">
                          <label>
                            Actions
                          </label>
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <span style="cursor: pointer;">
                            <i class="fa fa-pencil-square-o" aria-hidden="true" (click)="onProdEdit(element)"
                              *ngIf="!element.editMode"></i>
                            &nbsp;
                            <i class="fa fa-floppy-o" aria-hidden="true" (click)="onProdSave(element)"
                              *ngIf="element.editMode"></i>
                          </span>
                        </td>
                      </ng-container>
  
                      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
                    </table>
                    <mat-paginator [pageSize]="pageSize" [hidden]="!upcomingItemData"  [pageSizeOptions]="[10, 25, 50]" aria-label="Select page">
                    </mat-paginator>
                  </div>
                </div>

              
                </div>
              </div>
            </form>
            </div>
            
            

          
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
